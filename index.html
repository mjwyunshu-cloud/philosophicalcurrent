<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PHILO | 精神原型测试</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Noto+Serif+SC:wght@200;300;400;500;700;900&family=Inter:wght@100;200;300;400&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg: #080808;
            --accent: #b89c6d; 
            --text-main: #e0e0e0;
            --text-dim: #555555;
            --text-sub: #999999;
            --border: rgba(184, 156, 109, 0.15);
            --transition: all 0.7s cubic-bezier(0.16, 1, 0.3, 1);
        }

        * { 
            margin: 0; padding: 0; box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--bg);
            color: var(--text-main);
            font-family: 'Noto Serif SC', serif;
            height: 100vh; width: 100vw;
            display: flex; justify-content: center; align-items: center;
            overflow: hidden; position: relative;
        }

        #app { 
            width: 88%; max-width: 400px; height: 100%;
            z-index: 10; display: flex; flex-direction: column; 
        }

        .progress-line {
            position: fixed; top: 0; left: 0; height: 1px;
            background: var(--accent); transition: width 0.8s ease; z-index: 1000;
        }

        .screen {
            display: none; opacity: 0; flex: 1; 
            transform: translateY(20px); transition: var(--transition);
            overflow-y: auto; -webkit-overflow-scrolling: touch;
        }
        .screen::-webkit-scrollbar { width: 0; display: none; }
        .screen.active { 
            display: flex; flex-direction: column; opacity: 1; transform: translateY(0);
        }

        /* --- 首页 --- */
        #home { justify-content: center; align-items: center; text-align: center; height: 100%; }
        .brand { margin-bottom: 5rem; }
        .brand h1 { font-family: 'Cinzel', serif; font-size: 3.5rem; letter-spacing: 0.3em; color: var(--accent); line-height: 1; text-indent: 0.3em; }
        .brand p { font-family: 'Inter', sans-serif; font-size: 0.5rem; letter-spacing: 0.8em; color: var(--text-dim); text-transform: uppercase; margin-top: 1.8rem; text-indent: 0.8em; }
        .hero-text { font-size: 1.1rem; line-height: 3; font-weight: 200; letter-spacing: 0.3em; margin-bottom: 6rem; color: #999; }
        .btn { background: none; border: 0.5px solid var(--accent); color: var(--accent); padding: 1.2rem; font-family: 'Inter', sans-serif; font-size: 0.55rem; letter-spacing: 0.4em; text-transform: uppercase; cursor: pointer; transition: 0.4s; outline: none; }
        .btn:active { background: var(--accent); color: #000; transform: scale(0.96); }

        /* --- 答题页 --- */
        #quiz { padding: 12vh 0; }
        .step-num { font-family: 'Cinzel', serif; color: var(--accent); font-size: 0.55rem; letter-spacing: 0.6em; margin-bottom: 3.5rem; opacity: 0.6; }
        .question-box h2 { font-size: 1.1rem; line-height: 2.2; font-weight: 300; color: #fdfdfd; margin-bottom: 1.5rem; }
        .annotation { font-size: 0.7rem; color: #555; line-height: 1.8; font-weight: 200; padding-left: 1rem; border-left: 1px solid var(--border); margin-bottom: 4rem; display: block; }
        .opt { padding: 1.6rem 0.5rem; font-size: 0.85rem; border-bottom: 0.5px solid rgba(255,255,255,0.05); cursor: pointer; font-weight: 300; color: #aaa; transition: 0.3s; line-height: 1.8; }
        .opt:active { color: var(--accent); background: rgba(184, 156, 109, 0.03); padding-left: 1rem; }

        /* --- 结果页复刻版 --- */
        #result-poster { padding: 4rem 2rem; background: #000; position: relative; }
        .meta-id { font-family: 'Inter', sans-serif; font-size: 0.4rem; color: var(--text-dim); letter-spacing: 0.3em; text-transform: uppercase; margin-bottom: 2rem; display: block; }
        
        /* 主标题 */
        .res-primary { margin-bottom: 3.5rem; }
        .res-name { font-size: 3.8rem; color: var(--accent); font-weight: 700; line-height: 1; letter-spacing: 0.05em; margin-bottom: 0.8rem; }
        .res-school { font-family: 'Cinzel', serif; font-size: 0.7rem; color: var(--accent); letter-spacing: 0.4em; text-transform: uppercase; opacity: 0.8; }

        /* 次要基准 */
        .res-secondary { margin-bottom: 4rem; border-left: 1px solid var(--border); padding-left: 1.2rem; }
        .sec-label { font-family: 'Inter', sans-serif; font-size: 0.45rem; color: var(--text-dim); letter-spacing: 0.3em; text-transform: uppercase; margin-bottom: 0.8rem; display: block; }
        .sec-name { font-size: 1.4rem; color: #d0d0d0; font-weight: 400; margin-bottom: 0.3rem; }
        .sec-school { font-family: 'Cinzel', serif; font-size: 0.5rem; color: #666; letter-spacing: 0.25em; text-transform: uppercase; }

        /* 智性三框矩阵 */
        .dimension-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.8rem; margin-bottom: 4.5rem; }
        .dim-box { border: 0.5px solid var(--border); padding: 1rem 0.5rem; text-align: center; background: rgba(184, 156, 109, 0.01); }
        .dim-head { font-family: 'Inter', sans-serif; font-size: 0.4rem; color: var(--text-dim); letter-spacing: 0.2em; text-transform: uppercase; display: block; margin-bottom: 0.8rem; }
        .dim-val { font-size: 0.75rem; color: var(--accent); font-weight: 300; letter-spacing: 0.1em; }

        /* 肖像解析 */
        .analysis-section { border-top: 0.5px solid rgba(255,255,255,0.05); padding-top: 3rem; }
        .section-header { display: flex; align-items: center; margin-bottom: 2rem; }
        .section-bar { width: 2px; height: 12px; background: var(--accent); margin-right: 0.8rem; }
        .section-title { font-family: 'Inter', sans-serif; font-size: 0.55rem; color: var(--text-sub); letter-spacing: 0.4em; text-transform: uppercase; }
        
        .analysis-text { font-size: 0.88rem; line-height: 2.2; color: #999; font-weight: 200; text-align: justify; letter-spacing: 0.05em; }

        .copyright-tag { margin-top: 5rem; font-family: 'Inter', sans-serif; font-size: 0.4rem; color: var(--text-dim); letter-spacing: 0.3em; text-align: center; }

        .loading-screen { position: fixed; inset: 0; background: #080808; display: flex; justify-content: center; align-items: center; z-index: 2000; color: var(--accent); font-family: 'Cinzel'; letter-spacing: 0.6em; font-size: 0.6rem; }
    </style>
</head>
<body>

    <div class="progress-line" id="progress"></div>
    <div class="loading-screen" id="loader">CONCEPTUALIZING...</div>

    <div id="app">
        <section id="home" class="screen">
            <div class="brand">
                <h1>PHILO.</h1>
                <p>MIND ARCHIVE IDENTIFICATION</p>
            </div>
            <div class="hero-text">
                在碎片的时代，<br>重拾思辨的尊严。
            </div>
            <button class="btn" style="width: 180px;" onclick="start()">开启审视</button>
        </section>

        <section id="quiz" class="screen">
            <div class="step-num" id="q-idx">Step 01 / 22</div>
            <div class="question-box" id="q-content"></div>
            <div class="options-list" id="q-options"></div>
        </section>

        <section id="result" class="screen">
            <div id="result-poster">
                <span class="meta-id">Mind Archive Identification // 2026-01</span>
                
                <div class="res-primary">
                    <h2 class="res-name" id="res-name">---</h2>
                    <div class="res-school" id="res-school">---</div>
                </div>

                <div class="res-secondary">
                    <span class="sec-label">Secondary Archetype</span>
                    <h3 class="sec-name" id="res-sub-name">---</h3>
                    <div class="sec-school" id="res-sub-school">---</div>
                </div>

                <!-- 智性三框矩阵 -->
                <div class="dimension-grid">
                    <div class="dim-box">
                        <span class="dim-head">Cognitive</span>
                        <p class="dim-val" id="dim-cog">---</p>
                    </div>
                    <div class="dim-box">
                        <span class="dim-head">Ethics</span>
                        <p class="dim-val" id="dim-eth">---</p>
                    </div>
                    <div class="dim-box">
                        <span class="dim-head">Ontology</span>
                        <p class="dim-val" id="dim-ont">---</p>
                    </div>
                </div>

                <!-- 肖像解析 -->
                <div class="analysis-section">
                    <div class="section-header">
                        <div class="section-bar"></div>
                        <span class="section-title">Portrait Analysis</span>
                    </div>
                    <div class="analysis-text" id="res-analysis">---</div>
                </div>

                <div class="copyright-tag">@云树CLOUDTREE // PURE THOUGHT PROJECT</div>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; padding: 3rem 0 10vh;">
                <button class="btn" onclick="savePoster()">保存档案</button>
                <button class="btn" onclick="location.reload()">重新审视</button>
            </div>
        </section>
    </div>

    <script async src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

    <script>
        window.addEventListener('load', () => {
            document.getElementById('loader').style.display = 'none';
            show('home');
        });

        const questions = [
            { q: "‘玛丽的房间’实验：一位色盲科学家掌握了光的所有物理数据，当她第一次看到红色：", options: [{ t: "她学到了新知识，物理规律无法穷尽主观体验（Qualia）。", s: { murdoch: 4, hume: 3 } }, { t: "她没学到新知识，大脑的电化学反应已在她的逻辑推演中。", s: { descartes: 5 } }, { t: "这说明世界本身即是感知的集合。", s: { hume: 5 } }] },
            { q: "传送机在月球摧毁并重建一个完美的你，你认为进入舱体意味着：", options: [{ t: "死亡。意识的物理连续性一旦断裂，自我便已消亡。", s: { descartes: 5 } }, { t: "存续。既然记忆和人格知觉一致，‘我’的本质未变。", s: { hume: 5 } }, { t: "存续。身体只是工具，那个‘我’能继续行动才重要。", s: { arendt: 5 } }] },
            { q: "罗尔斯的‘无知之幕’：如果让你在出生前制定社会规则，但不知道自己会是谁：", options: [{ t: "我会制定最能保障弱势群体的法则（公平即正义）。", s: { arendt: 4, murdoch: 3 } }, { t: "我会追求最大化的整体效用。", s: { mill: 5 } }, { t: "我会坚持逻辑上的契约严密性。", s: { kant: 4 } }] },
            { q: "‘维特根斯坦的甲虫’：每个人盒子里都有个叫甲虫的东西，别人看不见。你认为语言能描述真相吗？", options: [{ t: "语言只是映射。它试图对应那个外部存在的客观理式。", s: { plato: 5, descartes: 2 } }, { t: "语言是种博弈。真相是在公共言说与行动中‘涌现’的。", s: { arendt: 5 } }, { t: "语言是种幻觉。它只是为了生活便利而不得不信的习惯。", s: { hume: 5 } }] },
            { q: "当你在没人注视的深山看到一棵倒下的树：", options: [{ t: "即使没人听见，它倒下的声音作为物理规律客观存在。", s: { descartes: 4, plato: 3 } }, { t: "如果没有感知主体，讨论‘倒下’这一概念并无本质意义。", s: { hume: 5 } }, { t: "它的实存是‘物自体’，超出了人类的知觉范畴。", s: { kant: 5 } }] },
            { q: "失控的电车前，如果你不作为会死5人，拉动闸门会死1人（此人是你挚爱）：", options: [{ t: "拉闸。个体必须为最大化整体幸福而承受牺牲。", s: { mill: 5 } }, { t: "不拉。我拒绝将人仅仅作为达成某种结果的工具。", s: { kant: 5 } }, { t: "这种道德困境的本质在于对我者命运的‘凝视’。", s: { murdoch: 5 } }] },
            { q: "关于‘美’，你更认可哪种直觉？", options: [{ t: "美是万物背后永恒和谐的数学/理式比例。", s: { plato: 5 } }, { t: "美是我放下自我的贪婪，纯粹关注他者的无私瞬间。", s: { murdoch: 5 } }, { t: "美是生命意志在荒芜中创造出的英雄式幻象。", s: { nietzsche: 5 } }] },
            { q: "如果你拥有‘盖吉氏戒指’：", ann: "柏拉图的思想实验：一枚能让你完全隐形且行事绝不被惩罚、被发现的戒指。", options: [{ t: "依然恪守道德。道德源于自律，而非外界的监督。", s: { kant: 5 } }, { t: "释放本能。既然契约失效，我将追求绝对自由。", s: { nietzsche: 5 } }, { t: "这让我审视权力如何通过‘监控’维持人的秩序感。", s: { arendt: 3, beauvoir: 2 } }] },
            { q: "帕斯卡的赌注：关于终极信仰，如果无法证明真伪，你会：", options: [{ t: "选择相信。如果赢了获得无限，输了也无损失，这是理性的。", s: { descartes: 4, mill: 2 } }, { t: "拒绝盲信。诚实的怀疑远比功利的相信更有尊严。", s: { hume: 5 } }, { t: "亲手赋予生命某种神圣的意志，哪怕它是虚构的。", s: { nietzsche: 5 } }] },
            { q: "AI写出了一首让全人类落泪的诗，你会认为：", options: [{ t: "它是美的。只要符合美的理式，来源并不重要。", s: { plato: 5 } }, { t: "它是虚假的。因为它缺乏主体的生存体验和选择。", s: { beauvoir: 5 } }, { t: "它没有‘灵魂’。因为它不具备原发的‘行动’能力。", s: { arendt: 5 } }] },
            { q: "尼采的‘永恒轮回’：如果你的一生要不断地重复，你会：", options: [{ t: "恐慌。这种无尽的循环是虚无主义的噩梦。", s: { hume: 3 } }, { t: "接纳。以此确立我每一刻选择的绝对分量。", s: { nietzsche: 5 } }, { t: "寻找那个在任何轮回中都恒定不变的真理。", s: { plato: 5 } }] },
            { q: "你最认可的人生态度是：", options: [{ t: "在绝对怀疑中寻找唯一的确定支点。", s: { descartes: 5 } }, { t: "顺应自然的秩序，区分什么是‘可控的’。", s: { aurelius: 5 } }, { t: "在荒谬的世界中，通过不断超越旧我来创造新自我。", s: { nietzsche: 5, beauvoir: 3 } }] },
            { q: "‘忒修斯之船’：如果一艘船的木板被全部更换，它还是原来那艘吗？", options: [{ t: "是。它承载的‘灵魂’或设计蓝图未变。", s: { plato: 5 } }, { t: "不是。物理实体的连续性已被新物质取代。", s: { hume: 4 } }, { t: "它是一个不断生成的‘动态过程’，身份是人为赋予的标签。", s: { beauvoir: 5 } }] },
            { q: "面对不公正的压迫，你应该：", options: [{ t: "通过反抗，在具体的生存处境中确认我的自由。", s: { beauvoir: 5 } }, { t: "走入公共领域，与志同道合者共同改变世界。", s: { arendt: 5 } }, { t: "保持内心的主权，使外界的暴力无法伤害我的宁静。", s: { aurelius: 5 } }] },
            { q: "你认为‘真理’的本质是：", options: [{ t: "逻辑大厦。即使没有人类存在，它依然冷峻地实存。", s: { descartes: 5 } }, { t: "公共契约。它是多元主体通过对话达成的临时共识。", s: { arendt: 5 } }, { t: "感知归纳。它只是我们目前还没被推翻的观察习惯。", s: { hume: 5 } }] },
            { q: "关于‘爱’，哪种观点最让你心颤？", options: [{ t: "爱是对另一个独立灵魂极度清晰、无私的‘关注’。", s: { murdoch: 5 } }, { t: "爱是两个自由的主体在开放性关系中的共同冒险。", s: { beauvoir: 5 } }, { t: "爱是灵魂对理式世界中完美原型的重逢记忆。", s: { plato: 5 } }] },
            { q: "文明发展的最高成就应该是：", options: [{ t: "彻底掌握宇宙规律，消除一切非理性因素。", s: { descartes: 5 } }, { t: "让每个人都能在没有任何预定义的前提下自我生成。", s: { beauvoir: 5 } }, { t: "保护一个能让每个人通过言行展示‘卓越’的公共领域。", s: { arendt: 5 } }] },
            { q: "当大众嘲笑你的理想时，你的第一反应：", options: [{ t: "外界的评价超出了我的控制，与我无关。", s: { aurelius: 5 } }, { t: "这正是我对抗平庸、确认自我意志的时刻。", s: { nietzsche: 5 } }, { t: "反思这一评价在逻辑上是否具备一致性。", s: { descartes: 5 } }] },
            { q: "西西弗斯推石上山是徒劳的，但他是幸福的。这意味着：", options: [{ t: "幸福在于对无意义过程的主动肯定。", s: { nietzsche: 5 } }, { t: "幸福在于看透了虚无，进而获得绝对的冷静。", s: { aurelius: 4 } }, { t: "幸福在于每一次微小的感官知觉都是真实的获得。", s: { hume: 3 } }] },
            { q: "你如何定义‘一个成功的生命’？", options: [{ t: "最大程度减轻了人类总体的痛苦（减熵）。", s: { mill: 5 } }, { t: "在死亡面前能满怀激情地再次肯定自己的一生。", s: { nietzsche: 5 } }, { t: "完成了‘灵魂转向’，从影子世界回到了太阳底下。", s: { plato: 5 } }] },
            { q: "生活如果失去了目标，你：", options: [{ t: "依靠日常的习惯和本能平稳度日，不问终点。", s: { hume: 5 } }, { t: "亲手凿出一份意义，并为此负责。", s: { nietzsche: 5, beauvoir: 3 } }, { t: "在对他人的责任与纯粹的‘关注’中重新扎根。", s: { murdoch: 5 } }] },
            { q: "终极实验：如果宇宙明天毁灭且一切痕迹消失，你行善的唯一动力是：", options: [{ t: "因为行善本身就是绝对正确的理性法则。", s: { kant: 5 } }, { t: "这是我作为一个自由主体，在最后时刻对自己命运的肯定。", s: { beauvoir: 5 } }, { t: "仅仅是为了在虚无降临前，给予那个人最后一份纯粹的关注。", s: { murdoch: 5 } }] }
        ];

        const icons = {
            nietzsche: { name: "尼采", school: "Existentialism", cog: "意志权力", eth: "价值重估", ont: "永恒轮回", analysis: "你是一个激进的创造者，洞察着平庸叙事背后的虚无本质。你拒绝被宏大叙事绑架，在历史的断裂处重构身份的多重可能。你深知真理往往只是权力意志的微观运作，因此你选择以舞者的姿态跨越深渊。你的一生不是为了寻找意义，而是为了亲手凿刻出足以对抗荒谬的永恒坐标。" },
            aurelius: { name: "奥勒留", school: "Stoicism", cog: "理性统治", eth: "斯多葛主义", ont: "自然秩序", analysis: "你是一个内敛的守望者，在喧嚣的帝国边境筑起精神的堡垒。你具备一种罕见的辩证眼光：既深情地拥抱当下，又冷峻地剥离那些不可控的偶然。对你而言，自由并非随心所欲，而是对自然律的深度顺应。在万物流转的废墟之上，你守护着那份唯有理性才能赋予的、不陷的宁静。" },
            kant: { name: "康德", school: "Deontology", cog: "先验范畴", eth: "定言令回", ont: "物自体", analysis: "你是一个灵魂的立法者，在认知的疆界中划定神圣的防线。你拒绝感官的廉价诱导，转而向内求索那条冷峻而绝对的道德律令。你将人视为终极目的，在逻辑的严密性中确立了主体的尊严。你深知理性的局限，却依然在不可知的物自体边缘，为人类精神构建了永恒的星空坐标。" },
            descartes: { name: "笛卡尔", school: "Rationalism", cog: "普遍怀疑", eth: "临时道德", ont: "身心二元", analysis: "你是一个孤独的坐标原点。你以怀疑为刃，切断了一切未经审视的教条，直到碰触到那个唯一的、不可撼动的『我思』。你崇尚明晰与确定，在几何式的严谨中重构了精神与世界的联系。你的一生是一场向着光明的逻辑远征，在本体论的荒野中，你是那个第一个确立自我的测绘者。" },
            plato: { name: "柏拉图", school: "Idealism", cog: "洞穴回忆", eth: "灵魂转向", ont: "绝对理式", analysis: "你是一个永恒的追光者，在影子的世界里识别理式的轮廓。你深感感官世界的虚妄，终其一生都在试图完成一场壮丽的灵魂转向。你相信美与善是宇宙最深处的比例，在超越表象的攀升中，你试图找回灵魂失落的记忆。对你而言，真理不在彼岸，而在你每一次穿透表象的凝视之中。" },
            hume: { name: "休谟", school: "Empiricism", cog: "习惯联想", eth: "情感主义", ont: "经验怀疑", analysis: "你是一个优雅的解构者，以温润的常识消解了形而上学的傲慢。你只承认感官触碰到的真实，承认因果仅仅是习惯的联想。你拒绝了虚幻的绝对性，转而在流变的经验之海中，为人类找到了最可靠的生存习惯。在你的世界里，怀疑不是痛苦的折磨，而是一种走向人性真实与谦卑的必要洗礼。" },
            arendt: { name: "阿伦特", school: "Political Philosophy", cog: "行动涌现", eth: "公共责任", ont: "政治自由", analysis: "你是一个敏锐的公共实践者，在言说与行动中确认人的第二次出生。你拒绝平庸的恶，警惕一切试图抹杀多元性的极权诱惑。你深信人的尊严唯有在与他者的共建中才能获得。你在公共领域的博弈中寻找自由的真谛，在每一个开启新事物的瞬间，你重申了作为人的、不可替代的卓越。" },
            beauvoir: { name: "波伏娃", school: "Existentialism", cog: "存在生成", eth: "自由辩证", ont: "处境超越", analysis: "你是一个清醒的生成者。你拒绝被任何预定义的本质所囚禁，坚信每一个‘我’都是在具体的处境中亲手创造的。你在开放的关系中实践自由的博弈，追求一种不断向未来投射的生存。对你而言，性别与身份不是宿命，而是通往无限可能性的出发点，你以生命的热度对抗了存在的荒谬。" },
            murdoch: { name: "默多克", school: "Moral Realism", cog: "专注洞察", eth: "无私关注", ont: "道德实在", analysis: "你是一个深情的注视者。你认为道德的本质不在于意志的决断，而在于对他者极其清晰、无私的关注。你努力剥离自我的幻象，去看见那个原本真实的、痛苦或美好的他者。美对你而言是道德的预演，在对完美的凝视中，你学会了放下贪婪，让灵魂在纯粹的‘关注’中获得洗礼与重生。" }
        };

        let current = 0, score = {};

        function start() { show('quiz'); loadQ(); }
        
        function loadQ() {
            const data = questions[current];
            document.getElementById('q-idx').innerText = `Step ${String(current + 1).padStart(2, '0')} / 22`;
            document.getElementById('q-content').innerHTML = `<h2>${data.q}</h2>` + (data.ann ? `<span class="annotation">${data.ann}</span>` : "");
            
            const cont = document.getElementById('q-options');
            cont.innerHTML = '';
            data.options.forEach(o => {
                const div = document.createElement('div');
                div.className = 'opt';
                div.innerText = o.t;
                div.onclick = () => {
                    setTimeout(() => select(o.s), 100);
                };
                cont.appendChild(div);
            });
            document.getElementById('progress').style.width = ((current / questions.length) * 100) + '%';
        }

        function select(s) {
            for(let key in s) score[key] = (score[key] || 0) + s[key];
            current++;
            if(current < questions.length) {
                const q = document.getElementById('quiz');
                q.style.opacity = 0;
                q.style.transform = 'translateY(-20px)'; 
                setTimeout(() => { 
                    loadQ(); 
                    q.style.opacity = 1; 
                    q.style.transform = 'translateY(0)';
                }, 300);
            } else { showResult(); }
        }

        function showResult() {
            document.getElementById('progress').style.width = '100%';
            const sorted = Object.keys(score).sort((a, b) => score[b] - score[a]);
            const primary = icons[sorted[0]] || icons.nietzsche;
            const secondary = icons[sorted[1]] || icons.aurelius;

            document.getElementById('res-name').innerText = primary.name;
            document.getElementById('res-school').innerText = primary.school;
            document.getElementById('dim-cog').innerText = primary.cog;
            document.getElementById('dim-eth').innerText = primary.eth;
            document.getElementById('dim-ont').innerText = primary.ont;
            document.getElementById('res-analysis').innerText = primary.analysis;

            document.getElementById('res-sub-name').innerText = secondary.name;
            document.getElementById('res-sub-school').innerText = secondary.school;
            
            show('result');
        }

        function show(id) {
            const screens = document.querySelectorAll('.screen');
            screens.forEach(s => {
                s.classList.remove('active');
                s.style.display = 'none';
            });
            const target = document.getElementById(id);
            target.style.display = 'flex';
            setTimeout(() => target.classList.add('active'), 50);
            window.scrollTo(0,0);
        }

        function savePoster() {
            if (typeof html2canvas === 'undefined') return;
            const loader = document.getElementById('loader');
            loader.innerText = "GENERATING ARCHIVE...";
            loader.style.display = 'flex';
            html2canvas(document.getElementById('result-poster'), { backgroundColor: '#000', scale: 3, useCORS: true }).then(canvas => {
                const link = document.createElement('a');
                link.download = `PHILO_ARCHIVE.png`;
                link.href = canvas.toDataURL('image/png');
                link.click();
                loader.style.display = 'none';
            });
        }
    </script>
</body>
</html>
